<!doctype html>
<html lang="en">

<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width,initial-scale=1" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge" />
	<meta name="mobile-web-app-capable" content="yes" />
	<meta name="theme-color" content="#ffffff" />
	
	<title>Online QR Code Scanner</title>
	<meta name="description" content="QR Code Scanner is an online scanner and the fastest and most practical online QR code scanner for identifying QR codes. High-speed scanning, No need to install, Scan editing." />
	<meta name="keywords" content="web qrcode, web qr, qr scanner, qr code scanner, qr code scan, online qr code scanner, qr code reader, scanner, scan, how to scan qr code, how do i scan qr code, scan the qr code, scan app, how scan qr code, how to scan a qr code, google qr code, free qr code scanner, qr code scannen, scan a qr code" />
	
	<meta property="og:description" content="QR Code Scanner is an online scanner and the fastest and most practical online QR code scanner for identifying QR codes." />
	<meta property="og:title" content="Online QR Code Scanner" />
	
	<link rel="apple-touch-icon" sizes="180x180" href="assets/img/apple-touch-icon.png" />
	<link rel="icon" type="image/png" sizes="32x32" href="assets/img/favicon-32x32.png" />
	<link rel="icon" type="image/png" sizes="16x16" href="assets/img/favicon-16x16.png" />
	
	<link rel="stylesheet" href="assets/css/bootstrap.min.css" />
	<script type="text/javascript" src="assets/js/jquery.min.js"></script>
	<script type="text/javascript" src="assets/js/qrcode.min.js"></script>
	<script type="text/javascript" src="assets/js/clipboard.min.js"></script>
	
	<style>
		.bd-footer {
			font-size: .875rem;
			color: #63707c
		}

		.bd-footer a {
			font-weight: 600;
			color: #495057
		}

		.bd-footer a:hover,.bd-footer a:focus {
			color: #0d6efd
		}
		
		.form-control {
			border-radius: 0px;
		}
	</style>
</head>
<body>
	<div class="container">
		<div class="col-md-12 mt-3">
			<h1>Online QR Code Scanner</h1> 
			<p>Scan your QR code online in your Chrome, Safari or Firefox browser.</p>
		</div>
		
		<div class="col-md-6 offset-md-3">
			<div style="margin-bottom: 20px;padding: 15px;border: 1px solid rgb(204, 204, 204);text-align: center; box-shadow: rgba(0, 0, 0, 0.075) 0px 0.125rem 1.25rem !important; height: auto !important;">
				<a href="camera.html"><input type="button" value="Scan QR Code Camera" class="btn btn-primary"></a>
				<input type="button" value="Scan QR Code Upload File" id="openUpload" style="background-color: #21262d;border-color: #21262d;" class="btn btn-primary">
			</div>
		
		</div>
		<div class="col-md-6 offset-md-3" id="qrCodeUpload" style="display: none;">
			<input type="file" accept="image/*" id="decode-file" style="display: none;" />
			<p id="decode-text" class="hide">The decoded value is:<br /><br />
			<textarea class="form-control" rows="5" id="result" readonly></textarea></p>
			<button type="button" class="btn" data-original-title="Copied!" data-clipboard-target="#result" style="display: block; margin: auto;font-size: 14px;font-weight: 300;outline: none;cursor: pointer;color: #fff;border-radius: 3px;padding: 5px 12px;line-height: 20px;background-color: #21262d;border: 1px solid #30363d;">Copy</button>
			<br/>
			<br/>
			<canvas id="decode-canvas" style="width: 100%"></canvas>
		</div>
		
		<div class="col-md-12" style="margin-top: 10px">
			<h2>What is a QR Code?</h2>
			<p>QR stands for “Quick Response”. QR Codes are intended to present data to any scanning device as fast as possible. They were invented by Denso Wave in 1994 for Toyota. Learn more at&nbsp;<a href="https://en.wikipedia.org/wiki/QR_code" target="_blank" rel="noopener"><strong>Wikipedia</strong></a>.</p>
			<p>QR isn't the only type of barcode - but it is the one you should be using to get more leads and clients. There are other types of Barcodes, such as ScanLife, EZcode, DataMatrix, and Microsoft Tag.</p>
		</div>
	</div>
	
	<footer class="bd-footer p-3 p-md-5 mt-5 bg-light text-center text-sm-start">
		<div class="container">
			<p class="mb-0">© 2022 Online QR Scanner.</p>
		</div>
	</footer>
	
	<script>
		var clipboard = new ClipboardJS('.btn');

		clipboard.on('success', function(e) {
			e.clearSelection();
		});
			
		var hasImage = false;
		var imageData = null;
		var decodeText = $("#decode-text");
		var canvas = $("#decode-canvas")[0];
		var context = canvas.getContext("2d");
		var decodeResult = decodeText.find("textarea");

		function resetDecoder() {
			hasImage = false;
			imageData = null;

			decodeResult.val("");
			decodeText.addClass("hide");
		}

		function drawImage(src) {
			var img = new Image();

			img.crossOrigin = "anonymous";

			img.onload = function () {
				var width = img.width;
				var height = img.height;
				var actualWidth = Math.min(960, width);
				var actualHeight = height * (actualWidth / width);

				hasImage = true;
				canvas.width = actualWidth;
				canvas.height = actualHeight;

				context.drawImage(img, 0, 0, width, height, 0, 0, actualWidth, actualHeight);

				imageData = context.getImageData(0, 0, actualWidth, actualHeight);
			};

			img.src = src;
		}

		$("#decode-file").on("change", function (e) {
			var file = e.target.files[0];

			if (file) {
				resetDecoder();

				var reader = new FileReader();

				reader.onload = function (e) {
					drawImage(e.target.result);
					$("#qrCodeUpload").show();

					setTimeout(function () {
						decodeAction();
					}, 500);
				};

				reader.readAsDataURL(file);
			}
		});

		function getImageData() {
			imageData && context.putImageData(imageData, 0, 0);

			return imageData || context.getImageData(0, 0, canvas.width, canvas.height);
		}

		function getModuleSize(location, version) {
			var topLeft = location.topLeft;
			var topRight = location.topRight;
			var a = Math.abs(topRight.x - topLeft.x);
			var b = Math.abs(topRight.y - topLeft.y);
			var c = Math.sqrt(Math.pow(a, 2) + Math.pow(b, 2));

			return c / (version * 4 + 17);
		}

		function markFinderPattern(x, y, moduleSize) {
			context.fillStyle = "#00ff00";

			context.beginPath();
			context.arc(x, y, moduleSize * 0.75, 0, 2 * Math.PI);
			context.fill();
		}

		function markQRCodeArea(location, version) {
			context.lineWidth = 2;
			context.strokeStyle = "#00ff00";

			context.beginPath();
			context.moveTo(location.topLeft.x, location.topLeft.y);
			context.lineTo(location.topRight.x, location.topRight.y);
			context.lineTo(location.bottomRight.x, location.bottomRight.y);
			context.lineTo(location.bottomLeft.x, location.bottomLeft.y);
			context.lineTo(location.topLeft.x, location.topLeft.y);
			context.stroke();

			var moduleSize = getModuleSize(location, version);

			markFinderPattern(location.topLeftFinder.x, location.topLeftFinder.y, moduleSize);
			markFinderPattern(location.topRightFinder.x, location.topRightFinder.y, moduleSize);
			markFinderPattern(location.bottomLeftFinder.x, location.bottomLeftFinder.y, moduleSize);
		}

		function decodeAction() {
			if (!hasImage) {
				return alert("Please select a QR code picture");
			}

			var imageData = getImageData();
			var result = new QRCode.Decoder().setOptions({ canOverwriteImage: false }).decode(imageData.data, imageData.width, imageData.height);

			if (result) {
				decodeResult.val(result.data);
				decodeText.removeClass("hide");

				markQRCodeArea(result.location, result.version);

				console && console.log(result);
			} else {
				alert("QR code decoding failed");
			}
		}
		
		$("#openUpload").click(function () {
			$("#decode-file").click();
		});

	</script>

</body>
</html>
